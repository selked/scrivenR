?mean()
?select()
library(tidyverse)
?select
video_files <- list.files()
video_files <- list.files(path="C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
check <- str_remove(video_files, ".[:graph:]$")
check
video_files <- list.files(path="C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
check <- basename(video_files)
check <- basename(video_files[1])
check <- file_path_sans_ext(video_files)
library(tools)
check <- file_path_sans_ext(video_files)
video_formats <- c(".mp4$", ".mkv$", ".avi$", ".mpeg$", ".mpg$")
test <- map(
video_formats,
str_subset,
string = video_files) |>
reduce(intersect)
video_formats <- c(".mp4", ".mkv", ".avi", ".mpeg", ".mpg")
test <- map(
video_formats,
str_subset,
string = video_files) |>
reduce(intersect)
test <- map(
video_formats,
str_subset,
string = video_files) |>
reduce(intersect)
str_subset(video_files, paste0(video_formats, collapse = '|'))
getwd()
document()
library(roxygen2)
document()
library(devtools)
document()
document()
document()
document()
document()
install("scrivenR")
setwd("C;/r_packages")
setwd("C:/r_packages")
install("scrivenR")
setwd("C:/Users/selke/Desktop/ApricotAudio/Recordings")
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio/Recordings")
extract_audio(list.files())
library(tictoc)
extract_audio(list.files())
transcribe(list.files())
setwd("C:/r_packages")
install("scrivenR")
library(devtools)
setwd("C:/r_packages")
install("scrivenR")
install("scrivenR")
install("scrivenR")
install("scrivenR")
install("scrivenR")
install("scrivenR")
setwd("C:/r_packages/scrivenR")
document()
setwd("C:/r_packages")
install("scrivenR")
install("scrivenR")
install("scrivenR")
setwd("C:/r_packages/scrivenR")
document()
setwd("C:/r_packages")
install("scrivenR")
install("scrivenR")
library(scrivenR)
?convert_audio
?transcribe_audio
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio/Recordings")
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE)
library(audio.whisper)
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE)
library(stringr)
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE)
library(tictoc)
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE)
setwd("C:/r_packages/scrivenR")
document()
library(av)
setwd("C:/r_packages")
install("scrivenR")
library(scrivenR)
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
remove.packages("scrivenR")
setwd("C:/r_packages/scrivenR")
library(devtools)
document()
setwd("C:/r_packages")
install("scrivenR")
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
library(av)
av_audio_convert(
"08_18.mkv",
output = "08_18.wav",
format = "wav",
channels = 1,
sample_rate = 16000,
total_time = 120
)
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE, model_path = ""C:/Users/selke/Documents/Whisper/ggml-base.en.bin"")
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE, model_path = C:/Users/selke/Documents/Whisper/ggml-base.en.bin")
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE, model_path = "C:/Users/selke/Documents/Whisper/ggml-base.en.bin")
library(audio.whisper)
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE, model_path = "C:/Users/selke/Documents/Whisper/ggml-base.en.bin")
library(stringr)
library(dplyr)
library(tictoc)
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE, model_path = "C:/Users/selke/Documents/Whisper/ggml-base.en.bin")
1036.77/60
av_audio_convert(
"08_18.mkv",
output = "08_18.wav",
format = "wav",
channels = 1,
sample_rate = 16000,
total_time = 30
)
setwd("C:/r_packages/scrivenR")
document()
document()
remove.packages("scrivenR")
setwd("C:/r_packages")
install("scrivenR")
library(scrivenR)
library(audio.whisper)
library(dplyr)
library(readr)
library(stringr)
library(tictoc)
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
transcribe_audio(list.files(), include_timing = TRUE, internal_convert = FALSE, model_path = "C:/Users/selke/Documents/Whisper/ggml-base.en.bin")
1038.88/60
extract_audio(list.files())
library(tools)
extract_audio(list.files())
extract_audio(list.files())
remove.packages("scrivenR")
uninstall("scrivenR")
getwd()
setwd("C:/r_packages/scrivenR")
document()
# Load some packages
library(audio.whisper)
library(tictoc)
library(av)
library(tidyverse)
library(tools)
library(devtools)
setwd("C:/r_packages/scrivenR")
setwd("C:/r_packages")
install("scrivenR")
library(scrivenR)
extract_audio(list.files())
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
extract_audio(list.files())
transcribe_audio(list.files(), include_timing = FALSE, internal_convert = TRUE)
mp <- "C:/Users/selke/Documents/Whisper/ggml-base.en.bin"
mp <- "C:/Users/selke/Documents/Whisper/ggml-tiny.en.bin"
transcribe_audio(list.files(), include_timing = FALSE, internal_convert = TRUE, model_path = mp)
getwd()
extract_audio(list.files())
uninstall("scrivenR")
remove.packages("scrivenR")
setwd("C:/r_projects/scrivenR")
setwd("C:/r_packages/scrivenR")
document()
install_github("selked/scrivenR")
if (length(audio_files)==0) {
print("No recognizable audio files in working directory. Your files must be 16-bit mono .WAVs. Assure you are in the directory containing your files. If so, use extract_audio() or convert_audio() to resolve file-format requirements.")
}
# Load some packages
library(audio.whisper)
library(tictoc)
library(av)
library(tidyverse)
library(tools)
library(devtools)
install_github("selked/scrivenR")
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
library(scrivenR)
extract_audio(list.files())
1750/60
mp <- "C:/Users/selke/Documents/Whisper/ggml-tiny.en.bin"
transcribe_audio(list.files(), include_timing = FALSE, internal_convert = TRUE, model_path = mp)
parallel::detectCores()
all_cores <- detectCores()/2
all_cores <- parallel::detectCores()/2
library(parallel)
n_cores <- detectCores()
n_cores/2
intchk <- 5L
intchk/2
round(intchk,1)
round((intchk/2), 1)
signif((intchk/2), 1)
ceiling(intchk/2)
n_cores <- as.numeric(detectCores())
ceiling(n_cores)
uninstall("scrivenR")
remove.packages("scrivenR")
getwd()
setwd("C:/r_packages/scrivenR")
document()
setwd("C:/r_packages/")
install("scrivenR")
list.files()
setwd("C:/r_packages/scrivenR")
list.files()
extract_audio(list.files())
remove.packages("scrivenR")
# Load some packages
library(audio.whisper)
library(tictoc)
library(av)
library(tidyverse)
library(tools)
library(devtools)
library(parallel)
setwd("C:/r_packages")
install("scrivenR")
library(scrivenR)
setwd("C:/Users/selke/Desktop/Hope Center Evaluation)
setwd("C:/Users/selke/Desktop/Hope Center Evaluation")
setwd("C:/r_packages/scrivenR")
extract_audio(list.files())
remove.packages("scrivenR")
setwd("C:/r_packages/scrivenR")
document()
# Load some packages
library(audio.whisper)
library(tictoc)
library(tidyverse)
library(tools)
library(devtools)
library(parallel)
devtools::install_github("selked/scrivenR")
library(scrivenR)
getwd()
list.files()
extract_audio(list.files())
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
extract_audio(list.files())
mp <- "C:/Users/selke/Documents/Whisper/ggml-base.en.bin"
transcribe_audio(list.files(), model_path = mp, all_cores = TRUE)
1511.99/60
remove.packages("scrivenR")
# Load some packages
library(audio.whisper)
library(tictoc)
library(tidyverse)
library(tools)
library(devtools)
library(parallel)
mp <- "C:/Users/selke/Documents/Whisper/ggml-base.en.bin"
setwd("C:/Users/selke/Desktop/test")
install_github("selked/scrivenR")
library(scrivenR)
my_dir <- list.files()
convert_audio(my_dir)
transcribe_audio(my_dir, mp, all_cores = TRUE)
my_dir <- list.files()
check <- my_dir |>
str_subset("_converted.wav$")
transcribe_audio(my_dir, mp, internal_convert = TRUE, all_cores = TRUE)
setwd("C:/r_packages/scrivenR")
library(roxygen2)
document()
# Load some packages
library(audio.whisper)
library(tictoc)
library(av)
library(tidyverse)
library(tools)
library(devtools)
library(parallel)
mp <- "C:/Users/selke/Documents/Whisper/ggml-base.en.bin"
model <- whisper("C:/Users/selke/Documents/Whisper/ggml-base.en.bin")
install.packages("phonfieldwork")
library(phonfieldwork)
library(tidyverse)
setwd("C:/Users/selke/Desktop/Hope Center Evaluation/ApricotAudio")
library(scrivenR)
mp <- "C:\Users\selke\Documents\Whisper\ggml-base.en.bin"
mp <- "C:/Users/selke/Documents/Whisper/ggml-base.en.bin"
my_files <- list.files()
transcribe_audio(
x = my_files,
model_path = mp,
include_timing = TRUE,
all_cores = TRUE
)
library(parallel)
transcribe_audio(
x = my_files,
model_path = mp,
include_timing = TRUE,
all_cores = TRUE
)
library(audio.whisper)
transcribe_audio(
x = my_files,
model_path = mp,
include_timing = TRUE,
all_cores = TRUE
)
library(tictoc)
transcribe_audio(
x = my_files,
model_path = mp,
include_timing = TRUE,
all_cores = TRUE
)
library(tools)
transcribe_audio(
x = my_files,
model_path = mp,
include_timing = TRUE,
all_cores = TRUE
)
model <- whisper("C:/Users/selke/Documents/Whisper/ggml-base.en.bin")
trans <- predict(model,
newdata = "11_07_snippet_converted.wav",
language = "en",
n_threads = 8)
View(trans)
chk <- trans$data
View(chk)
chk <- chk |>
mutate(dur_begin = as.duration(chk$from))
chk <- chk |>
mutate(int_dur = duration(check$from))
chk <- chk |>
mutate(int_dur = duration(chk$from))
chk <- chk |>
mutate(int_dur = dseconds(chk$from))
cheek <- dseconds(chk$from))
cheek <- dseconds(chk$from)
chk <- chk |>
mutate(int_dur = get_sound_duration(chk$from))
chk <- chk |>
mutate(int_dur = chk$to - chk$from)
test <- period_to_seconds(chk$from)
chk <- chk |>
mutate(begin = hms(from))
chk <- chk |>
mutate(begin = seconds_to_periods(hms(from)))
chk <- chk |>
mutate(begin = seconds_to_period(hms(from)))
chk <- chk |>
mutate(begin = period_to_seconds(hms(from)))
chk <- chk |>
mutate(time_end = period_to_seconds(hms(to)))
chk <- chk |>
mutate(time_start = period_to_seconds(hms(from)))
chk <- chk[,-c(5:7)]
chk <- chk[,-5]
chk <- chk |>
mutate(time_end = period_to_seconds(hms(to)))
dur <- get_sound_duration("11_07_snippet_converted.wav")
View(dur)
get_sound_duration("11_07_snippet_converted.wav")
dur <- dur[1,2]
create_empty_textgrid(
duration = dur,
tier_name = c("Speaker 1", "Speaker 2"),
point_tier = NULL,
path = getwd(),
result_file_name = "new_textgrid"
)
View(chk)
View(chk)
View(trans)
chk <- trans$data
View(chk)
names(chk)
View(chk)
names(chk)[4] <- "content"
chk <- chk |>
mutate(time_start = period_to_seconds(hms(from))) |>
mutate(time_end = period_to_seconds(hms(to)))
View(chk)
chk <- chk |>
mutate(time_start = period_to_seconds(hms(from))) |>
mutate(time_end = period_to_seconds(hms(to))) |>
select(content, time_start, time_end)
df_to_tier(
chk,
textgrid = "new_textgrid.TextGrid",
tier_name = "Speaker 1",
overwrite = TRUE)
View(chk)
create_empty_textgrid(
duration = dur+1,
tier_name = c("Speaker 1", "Speaker 2"),
point_tier = NULL,
path = getwd(),
result_file_name = "new_textgrid"
)
df_to_tier(
chk,
textgrid = "new_textgrid.TextGrid",
tier_name = "Speaker 1",
overwrite = TRUE)
remove.packages("scrivenR")
library(devtools)
install_github("selked/scrivenR")
detach("scrivenR")
detach(scrivenR)
library(scrivenR)
uninstall("scrivenR")
uninstall(scrivenR)
